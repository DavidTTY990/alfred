"use strict";(self["webpackChunkproject_alfred"]=self["webpackChunkproject_alfred"]||[]).push([[805],{9805:function(t,s,a){a.r(s),a.d(s,{default:function(){return U}});var e=a(3396),l=a(9242),o=a(7139);const i=t=>((0,e.dD)("data-v-13887932"),t=t(),(0,e.Cn)(),t),n={class:"wrap"},c={class:"container"},d=i((()=>(0,e._)("h3",null,"Schedule",-1))),r={class:"card-container"},h={class:"card input"},k={class:"card card_list"},p={class:"tab"},u={class:"cart_content"},_={class:"list"},g={class:"checkbox",for:"checkbox"},D=["onClick"],T=["checked"],f={class:"cart_content_taskName"},b=["onClick"],m={class:"list_footer"};function v(t,s,a,i,v,C){return(0,e.wg)(),(0,e.iD)("div",n,[(0,e._)("div",c,[d,(0,e._)("div",r,[(0,e._)("div",h,[(0,e.wy)((0,e._)("input",{type:"text",placeholder:"Text your to do Task",class:"taskContent","onUpdate:modelValue":s[0]||(s[0]=t=>v.taskInput=t)},null,512),[[l.nr,v.taskInput]]),(0,e._)("a",{href:"#",class:"btn_add",onClick:s[1]||(s[1]=(0,l.iM)(((...t)=>C.addTask&&C.addTask(...t)),["prevent"]))},"+")]),(0,e._)("div",k,[(0,e._)("ul",p,[(0,e._)("li",{class:(0,o.C_)({active:v.tabStatus.ALL}),"data-tab":"all",onClick:s[2]||(s[2]=t=>C.toggleTab("ALL"))}," All ",2),(0,e._)("li",{class:(0,o.C_)({active:v.tabStatus.WIP}),"data-tab":"wip",onClick:s[3]||(s[3]=t=>C.toggleTab("WIP"))}," Unfinished ",2),(0,e._)("li",{class:(0,o.C_)({active:v.tabStatus.DONE}),"data-tab":"finished",onClick:s[4]||(s[4]=t=>C.toggleTab("DONE"))}," Finished ",2)]),(0,e._)("div",u,[(0,e._)("ul",_,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(C.filteredData,(t=>((0,e.wg)(),(0,e.iD)("li",{key:t.id},[(0,e._)("label",g,[(0,e._)("div",{class:"taskItem-container",onClick:s=>C.toggleTask(t.id)},[(0,e._)("input",{type:"checkbox",name:"checkbox",checked:t.completed_at},null,8,T),(0,e._)("span",f,(0,o.zw)(t.content),1)],8,D)]),(0,e._)("a",{href:"#",class:"delete",onClick:(0,l.iM)((s=>C.deleteTask(t.id)),["prevent"])},null,8,b)])))),128))])])])]),(0,e._)("div",m,[(0,e._)("p",null,(0,o.zw)(C.countUnfinishedTasks),1),(0,e._)("a",{href:"#",onClick:s[5]||(s[5]=(0,l.iM)(((...t)=>C.deleteAllFinishedTasks&&C.deleteAllFinishedTasks(...t)),["prevent"]))},"Clear All Finished Tasks"),(0,e.Uk)(" "+(0,o.zw)(a.test),1)])])])}var C={props:["test"],data(){return{apiUrl:"https://todoo.5xcamp.us",taskData:[],taskInput:"",status:"ALL",tabStatus:{ALL:!0,WIP:!1,DONE:!1}}},methods:{addTask(){console.log("addTask!"),""!=this.taskInput.trim()?(this.addToDos(this.taskInput),this.taskContent={},this.taskInput=""):alert("Task name should not be empty！")},deleteTask(t){this.taskData.forEach(((s,a)=>{s.id==t&&(this.taskData.splice(a,1),this.delToDos(t))}))},toggleTab(t){Object.keys(this.tabStatus).forEach((t=>{this.tabStatus[t]=!1})),this.tabStatus[t]=!0,this.status=t},deleteAllFinishedTasks(){this.taskData.forEach(((t,s)=>{1==t.isChecked&&this.taskData.splice(s)}))},getToDos(){return new Promise(((t,s)=>{this.$http.get(`${this.apiUrl}/todos`).then((s=>{console.log(s.data.todos),this.taskData=s.data.todos,t(s)})).catch((t=>{console.log(t.response),s(t.response)}))}))},addToDos(t){return new Promise(((s,a)=>{this.$http.post(`${this.apiUrl}/todos`,{todo:{content:t}}).then((t=>{console.log(t.data),this.getToDos(),s(t.data)})).catch((t=>{console.log(t.response),a(t.response)}))}))},toggleTask(t){return new Promise(((s,a)=>{this.$http.patch(`${this.apiUrl}/todos/${t}/toggle`,{}).then((t=>{console.log(t.data),s(t.data)})).catch((t=>{console.log(t.response),this.getToDos(),a(t.response)}))}))},delToDos(t){return new Promise(((s,a)=>{this.$http.delete(`${this.apiUrl}/todos/${t}`).then((t=>{console.log(t.data),s()})).catch((t=>{console.log(t.response),a(t.response)}))}))}},computed:{filteredData(){return console.log("filteredData!"),console.log(this.taskData.filter((t=>null!=t.completed_at))),"DONE"===this.status?this.taskData.filter((t=>null!=t.completed_at)):"WIP"===this.status?this.taskData.filter((t=>null==t.completed_at)):this.taskData},countUnfinishedTasks(){let t=this.taskData.filter((t=>null==t.completed_at));return t.length+" Unfinished tasks"}},created(){this.getToDos()}},w=a(89);const I=(0,w.Z)(C,[["render",v],["__scopeId","data-v-13887932"]]);var U=I}}]);
//# sourceMappingURL=805.2cfbfbb2.js.map